---
import Feed from "@components/Feed.astro";
import Layout from "@layouts/Layout.astro";
import { db, eq, User } from "astro:db";

const { userId } = Astro.params;
const [user] = await db
    .select()
    .from(User)
    .where(eq(User.id, parseInt(userId!)));
---

<Layout title={user.name}>
    <div slot="header" class="header">
        <h2>{user.name}</h2>
        {user.description}
    </div>
    <Feed user={user.id} />
</Layout>

<style>
    .header {
        display: flex;
        gap: 1em;
        align-items: center;
    }
</style>
