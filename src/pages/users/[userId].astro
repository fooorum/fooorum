---
import Feed from "@components/feeds/Feed.astro";
import Layout from "@layouts/Layout.astro";
import Card from "@components/cards/User.astro";
import { db, eq, User } from "astro:db";
import Separator from "@components/feeds/Separator.astro";

const userId = parseInt(Astro.params.userId!);

const [user] = await db.select().from(User).where(eq(User.id, userId));
---

<Layout title={user.name}>
  <Card
    active
    userId={user.id}
    userName={user.name}
    userDescription={user.description}
  />
  <Separator />
  <Feed user={user.id} />
</Layout>

<style>
  .header {
    display: flex;
    gap: 1em;
    align-items: center;
  }
</style>
