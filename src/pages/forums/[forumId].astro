---
import Layout from "@layouts/Layout.astro";
import Feed from "@components/feeds/Feed.astro";
import Card from "@components/cards/Forum.astro";
import { db, eq, Forum } from "astro:db";

const forumId = parseInt(Astro.params.forumId!);

const [forum] = await db.select().from(Forum).where(eq(Forum.id, forumId));
---

<Layout title={forum.name}>
  <Card
    forumId={forum.id}
    forumName={forum.name}
    forumDescription={forum.description}
  />
  <hr />
  <Feed forum={forum.id} />

  <style>
    .header {
      display: flex;
      gap: 1em;
      align-items: center;
    }
  </style>
</Layout>
