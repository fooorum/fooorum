---
import Layout from "@layouts/Layout.astro";
import Stack from "@components/feeds/Stack.astro";
import Card from "@components/cards/Forum.astro";
import { db, Forum } from "astro:db";
import Separator from "@components/feeds/Separator.astro";

const forums = await db
  .select({
    forumName: Forum.name,
    forumId: Forum.id,
    forumDescription: Forum.description,
  })
  .from(Forum);
---

<Layout title="Foren">
  <Stack>
    {
      forums
        .flatMap((forum) => [<Card {...forum} />, <Separator />])
        .slice(0, -1)
    }
  </Stack>
</Layout>
