---
import Layout from "@layouts/Layout.astro";
import Stack from "@components/feeds/Stack.astro";
import { Icon } from "astro-icon/components";
import User from "@components/links/User.astro";

const { user } = Astro.locals;
if (!user) {
  return Astro.redirect("/login");
}
---

<Layout title="Abmelden">
  <form method="post" action="/api/logout" data-astro-reload>
    <Stack>
      <span
        >Du bist angemeldet als <User id={user.id}>{user.username}</User>.</span
      >
      <button><Icon name="material-symbols:logout" /> Abmelden</button>
    </Stack>
  </form>
</Layout>
